<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculateur d'Économies d'Impôt</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #040f25;
            color: #ffffff;
        }
        .container {
            max-width: 600px;
            margin: auto;
            padding: 20px;
            border: 1px solid #2a3a5a;
            border-radius: 5px;
            background-color: #0a1a3a;
        }
        label {
            display: block;
            margin-top: 10px;
        }
        input, select {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        button {
            padding: 10px 20px;
            margin-top: 20px;
            border: none;
            border-radius: 5px;
            background-color: #1e90ff;
            color: white;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #0077cc;
        }
        .result {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #2a3a5a;
            border-radius: 5px;
            background-color: #14264a;
        }
    </style>
</head>
<body>
        <div style="text-align: center;">
            <img src="logo.jpg" alt="Logo" style="max-width: 200px; margin-bottom: 20px;">
        </div>

    <div class="container">
        <h1>Calculateur d'Économies d'Impôt</h1>
        <label for="vehicleCost">Montant du véhicule (€) :</label>
        <input type="number" id="vehicleCost" placeholder="Montant du véhicule" value="50000">

        <label for="turnover">Chiffre d'affaires (€) :</label>
        <input type="number" id="turnover" placeholder="Chiffre d'affaires" value="100000">

        <label for="vehicleType">Type de véhicule :</label>
        <select id="vehicleType">
            <option value="electric">Électrique</option>
            <option value="hybrid">Hybride (102g CO2)</option>
            <option value="thermal">Thermique (200g CO2)</option>
        </select>

        <button onclick="calculateTaxSavings()">Calculer</button>

        <div class="result" id="result"></div>
    </div>

    <script>
        function calculateTaxSavings() {
            const vehicleCost = parseFloat(document.getElementById('vehicleCost').value);
            const turnover = parseFloat(document.getElementById('turnover').value);
            const vehicleType = document.getElementById('vehicleType').value;
            const taxRate = 0.25;
            let deductionRates = [];
            let atnRate = 0;
            let solidarityTax = 0;

            switch (vehicleType) {
                case 'electric':
                    deductionRates = [1.00, 1.00, 1.00];
                    atnRate = 0.04;
                    solidarityTax = 376.08;
                    break;
                case 'hybrid':
                    deductionRates = [0.75, 0.50, 0.25];
                    atnRate = 0.075;
                    solidarityTax = 140.88;
                    break;
                case 'thermal':
                    deductionRates = [0.75, 0.50, 0.25];
                    atnRate = 0.18;
                    solidarityTax = 273.36;
                    break;
            }

            let results = '';
            let totalTaxSavings = 0;

            for (let i = 0; i < 3; i++) {
                const deduction = vehicleCost * deductionRates[i];
                const amortization = vehicleCost / 5;
                const taxableIncome = turnover - deduction - amortization;
                const taxWithoutDeduction = turnover * taxRate;
                const taxWithDeduction = taxableIncome * taxRate;
                const taxSavings = taxWithoutDeduction - taxWithDeduction;
                const atn = vehicleCost * atnRate * (6/7);
                const totalCost = vehicleCost - taxSavings + atn + solidarityTax;

                totalTaxSavings += taxSavings;

                results += `<h3>Année ${2025 + i}</h3>
                            <p>Déduction fiscale : ${deduction.toFixed(2)} €</p>
                            <p>Amortissement : ${amortization.toFixed(2)} €</p>
                            <p>Revenu imposable : ${taxableIncome.toFixed(2)} €</p>
                            <p>Impôt sans déduction : ${taxWithoutDeduction.toFixed(2)} €</p>
                            <p>Impôt avec déduction : ${taxWithDeduction.toFixed(2)} €</p>
                            <p>Économie d'impôt : ${taxSavings.toFixed(2)} €</p>
                            <p>ATN : ${atn.toFixed(2)} €</p>
                            <p>Cotisation de solidarité : ${solidarityTax.toFixed(2)} €</p>
                            <p>Coût total pour la société : ${totalCost.toFixed(2)} €</p>`;
            }

            results += `<h2>Économie d'impôt totale sur 3 ans : ${totalTaxSavings.toFixed(2)} €</h2>`;
            document.getElementById('result').innerHTML = results;
        }

        // Pré-remplir et calculer automatiquement
        window.onload = calculateTaxSavings;
    </script>
</body>
</html>


